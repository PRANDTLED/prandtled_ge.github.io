<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SETTINGS</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <!-- <h1>1.6</h1> -->
    <div class="container pt-3 pb-5">
      <div class="col-md-6 offset-md-3">
        <form id="tg">
          <div class="form-group">
            <label class="form-label"> <strong>Город</strong> </label>
            <select id="city" class="form-select">
              <option selected value="1">Тбилиси</option>
              <option value="2">Батуми</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label mt-2"> <strong>Тип сделки</strong> </label>
            <select id="deal" class="form-select">
              <option selected value="3">Аренда</option>
              <option value="7">Аренда посуточно</option>
              <option value="1">Покупка</option>
            </select>
            <label class="form-label mt-2"
              ><strong>Тип недвижемого имущества</strong></label
            >
            <div class="form-group">
              <input
                type="checkbox"
                class="btn-check"
                id="btn-check-outlined"
                autocomplete="off"
              />
              <label
                id="btn-check-1"
                class="btn btn-outline-success"
                for="btn-check-outlined"
                >Квартиры</label
              >
              <input
                type="checkbox"
                class="btn-check"
                id="btn-check-2-outlined"
                autocomplete="off"
              />
              <label class="btn btn-outline-success" for="btn-check-2-outlined"
                >Дома и дачи</label
              >
              <input
                type="checkbox"
                class="btn-check"
                id="btn-check-3-outlined"
                autocomplete="off"
              />
              <label class="btn btn-outline-success" for="btn-check-3-outlined"
                >Гостиницы</label
              >
              <input
                type="checkbox"
                class="btn-check"
                id="btn-check-4-outlined"
                autocomplete="off"
              />
              <label
                class="btn btn-outline-success mt-2"
                for="btn-check-4-outlined"
                >Коммерческая площадь</label
              >

              <div>
                <label class="form-label mt-2"><strong>Валюта</strong></label>
              </div>
              <div class="form-group">
                <input
                  type="radio"
                  class="btn-check"
                  name="options-outlined"
                  id="success-outlined"
                  autocomplete="off"
                  checked
                />
                <label class="btn btn-outline-success" for="success-outlined"
                  >$</label
                >

                <input
                  type="radio"
                  class="btn-check"
                  name="options-outlined"
                  id="danger-outlined"
                  autocomplete="off"
                />
                <label class="btn btn-outline-success" for="danger-outlined"
                  >₾</label
                >
              </div>
              <div>
                <label class="form-label mt-2"><strong>Цена</strong></label>
              </div>
              <div class="form-group">
                <div class="input-group">
                  <span class="input-group-text">От</span>
                  <input
                    id="pricefrom"
                    type="text"
                    class="form-control"
                    placeholder="1000"
                  />
                  <span class="input-group-text">До</span>
                  <input
                    id="priceto"
                    type="text"
                    class="form-control"
                    placeholder="20000"
                  />
                </div>
                <div>
                  <label class="form-label mt-2"
                    ><strong>Площадь</strong></label
                  >
                </div>
                <div class="form-group">
                  <div class="input-group">
                    <span class="input-group-text">От</span>
                    <input
                      type="text"
                      class="form-control"
                      id="squarefrom"
                      placeholder="20м²"
                    />
                    <span class="input-group-text">До</span>
                    <input
                      type="text"
                      class="form-control"
                      id="squareto"
                      placeholder="50м²"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div>
            <label class="form-label mt-2"
              ><strong>Количество комнат</strong></label
            >
          </div>
          <input
            type="checkbox"
            class="btn-check"
            id="btn-check-5-outlined"
            autocomplete="off"
          />
          <label class="btn btn-outline-success" for="btn-check-5-outlined"
            >1</label
          >

          <input
            type="checkbox"
            class="btn-check"
            id="btn-check-6-outlined"
            autocomplete="off"
          />
          <label class="btn btn-outline-success" for="btn-check-6-outlined"
            >2</label
          >
          <input
            type="checkbox"
            class="btn-check"
            id="btn-check-7-outlined"
            autocomplete="off"
          />
          <label class="btn btn-outline-success" for="btn-check-7-outlined"
            >3</label
          >
          <input
            type="checkbox"
            class="btn-check"
            id="btn-check-8-outlined"
            autocomplete="off"
          />
          <label class="btn btn-outline-success" for="btn-check-8-outlined"
            >4+</label
          >
          <div>
            <button type="submit" class="btn btn-success mt-4">
              Сохранить
            </button>
          </div>
        </form>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="app.js"></script>
    <script>
      document.getElementById("tg").addEventListener("submit", function (e) {
        e.preventDefault();
        let message = `https://www.myhome.ge/ru/s/?`;
        const city = document.getElementById("city");
        if (city.value === "1") {
          message += `Keyword=Тбилиси&cities=1996871&GID=1996871`;
        }
        if (city.value === "2") {
          message += `Keyword=Батуми&cities=8742159&GID=8742159`;
        }
        const deal = document.getElementById("deal");
        message += `&AdTypeID=${deal.value}`;
        const type1 = document.getElementById("btn-check-outlined");
        if (type1.checked === true) {
          message += `&PrTypeID[]=1`;
        }
        const type2 = document.getElementById("btn-check-2-outlined");
        if (type2.checked === true) {
          message += `&PrTypeID[]=2`;
        }
        const type3 = document.getElementById("btn-check-3-outlined");
        if (type3.checked === true) {
          message += `&PrTypeID[]=7`;
        }
        const type4 = document.getElementById("btn-check-4-outlined");
        if (type4.checked === true) {
          message += `&PrTypeID[]=4`;
        }
        const currency1 = document.getElementById("success-outlined");
        if (currency1.checked === true) {
          message += `&FCurrencyID=1`;
        }
        const currency2 = document.getElementById("danger-outlined");
        if (currency2.checked === true) {
          message += `&FCurrencyID=2`;
        }
        const pricefrom = document.getElementById("pricefrom");
        const priceto = document.getElementById("priceto");
        if (pricefrom.value !== "") {
          if (priceto.value !== "") {
            message += `&FPriceFrom=${pricefrom.value}&FPriceTo=${priceto.value}`;
          }
        }
        const squarefrom = document.getElementById("squarefrom");
        const squareto = document.getElementById("squareto");
        if (pricefrom.value !== "") {
          if (priceto.value !== "") {
            message += `&AreaSizeFrom=${squarefrom.value}&AreaSizeTo=${squareto.value}`;
          }
        }
        const rooms1 = document.getElementById("btn-check-5-outlined");
        if (rooms1.checked === true) {
          message += `&RoomNums[]=1`;
        }
        const rooms2 = document.getElementById("btn-check-6-outlined");
        if (rooms2.checked === true) {
          message += `&RoomNums[]=2`;
        }
        const rooms3 = document.getElementById("btn-check-7-outlined");
        if (rooms3.checked === true) {
          message += `&RoomNums[]=3`;
        }
        const rooms4 = document.getElementById("btn-check-8-outlined");
        if (rooms4.checked === true) {
          message += `&RoomNums[]=4`;
        }
        console.log(message);
      });
    </script>
  </body>
</html>
